<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>14 August â€” Anas Mughal & Mian Hassan (Premium)</title>
<link rel="icon" href="data:;base64,iVBORw0KGgo=">
<style>
  :root{
    --bg-top: #052a12;
    --bg-bottom: #083b1a;
    --accent: #00b159;
    --white: #ffffff;
    --glass: rgba(255,255,255,0.06);
    --card-shadow: 0 18px 50px rgba(0,0,0,0.6);
  }
  *{box-sizing:border-box}
  html,body{height:100%;margin:0;font-family:Inter,system-ui,Segoe UI,Roboto,Arial;}
  body{
    background: linear-gradient(180deg,var(--bg-top),var(--bg-bottom));
    color:var(--white);
    display:flex;
    align-items:center;
    justify-content:center;
    padding:20px;
    overflow:hidden;
  }
  .wrapper{
    width:100%;
    max-width:1100px;
    border-radius:18px;
    background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
    box-shadow:var(--card-shadow);
    overflow:hidden;
    position:relative;
  }
  header{
    display:flex;
    gap:18px;
    align-items:center;
    padding:80px 22px 40px; /* desktop me upar 80px aur neeche 40px */
  }
  .flag{
    width:160px;
    height:95px;
    border-radius:10px;
    overflow:hidden;
    animation:flagWave 3s ease-in-out infinite;
    box-shadow: 0 8px 20px rgba(0,0,0,0.5);
    display:flex;
    align-items:center;
    justify-content:center;
  }
  @keyframes flagWave{
    0%{transform:rotate(-2deg) translateY(0)}
    50%{transform:rotate(2deg) translateY(-4px)}
    100%{transform:rotate(-2deg) translateY(0)}
  }
  header h1{margin:0;font-size:24px;}
  .sub{color:#cfe8d2;font-size:13px;margin-top:6px}
  .main{display:flex;gap:18px;padding:18px;}
  .left{
    flex:1;
    border-radius:12px;
    padding:18px;
    position:relative;
    min-height:420px;
  }
  .right{
    width:320px;
    min-width:220px;
    padding:18px;
    border-radius:12px;
    display:flex;
    flex-direction:column;
    gap:12px;
  }
  .big-title{font-size:36px;font-weight:700}
  .countdown{display:flex;gap:12px;margin-top:18px;justify-content:center;}
  .led{
    padding:14px 22px;
    border-radius:12px;
    min-width:120px;
    text-align:center;
    font-weight:800;
    font-size:36px;
    background: rgba(0,0,0,0.35);
  }
  .people{display:flex;gap:12px;margin-top:14px;}
  .person{
    flex:1;
    background:var(--glass);
    border-radius:10px;
    padding:12px;
    text-align:center;
  }
  .person.active{transform:scale(1.02);}
  .speech{
    position:absolute;
    left:26px;
    bottom:26px;
    max-width:58%;
    background: rgba(0,0,0,0.55);
    padding:14px 16px;
    border-radius:14px;
    display:none;
  }
  .speech.show{display:block;}
  .controls{display:flex;flex-direction:column;gap:10px}
  .btn{
    padding:12px;
    border-radius:12px;
    border:0;
    font-weight:800;
    cursor:pointer;
    background: linear-gradient(180deg,#0cb34a,#068036);
    color:white;
  }
  #fx{position:absolute;left:0;top:0;width:100%;height:100%;pointer-events:none}
  @media (max-width:880px){
    .flag {width:130px;height:78px;}
    header {padding-top:100px;flex-direction:column;text-align:center;}
    .main{flex-direction:column}
    .right{width:100%}
  }
</style>
</head>
<body>
  <div class="wrapper">
    <header>
      <div class="flag">
        <svg viewBox="0 0 30 20" style="width:100%;height:100%">
          <rect width="30" height="20" fill="#006400"/>
          <rect x="21" width="9" height="20" fill="#fff"/>
          <circle cx="12.3" cy="10" r="4.2" fill="#fff"/>
          <path d="M13.4 7.4 A4.5 4.5 0 0 0 13.4 12.6 L12.4 10 A2.4 2.4 0 0 1 12.4 9z" fill="#006400"/>
          <g transform="translate(15,10)"><polygon points="0,-3 0.9,-1 3,-1 1.3,0.2 2.3,2.8 0,1.2 -2.3,2.8 -1.3,0.2 -3,-1 -0.9,-1" fill="#fff"/></g>
        </svg>
      </div>
      <div>
        <h1>Happy Independence Day</h1>
        <div class="sub">14 August â€¢ Pakistan Zindabad ðŸ‡µðŸ‡°</div>
      </div>
    </header>

    <div class="main">
      <div class="left" id="left">
        <div class="big-title">14 August â€¢ Pakistan</div>
        <div class="people">
          <div class="person" id="person1"><strong>Anas Mughal</strong></div>
          <div class="person" id="person2"><strong>Mian Hassan</strong></div>
        </div>
        <div class="countdown">
          <div class="led" id="countDisplay">01:00</div>
        </div>
        <div class="speech" id="speech">
          <strong id="speaker"></strong>
          <div id="speechText" style="margin-top:6px;font-size:14px"></div>
        </div>
        <canvas id="fx"></canvas>
      </div>
      <aside class="right">
        <div class="controls">
          <button id="startBtn" class="btn">Start Celebration</button>
          <button id="burstBtn" class="btn">Burst Fireworks Now</button>
          <button id="exitBtn" class="btn" disabled>Exit</button>
        </div>
      </aside>
    </div>
  </div>

  <audio id="anthem" preload="auto">
    <source src="https://upload.wikimedia.org/wikipedia/commons/2/2d/Pakistani_national_anthem%2C_performed_by_the_USN_Band.mp3" type="audio/mpeg">
  </audio>

<script>
const COUNTDOWN_SECONDS = 60;
const ANAS_SPEAK_SECONDS = 10;
const HASSAN_SPEAK_SECONDS = 10;

const startBtn = document.getElementById('startBtn');
const burstBtn = document.getElementById('burstBtn');
const exitBtn = document.getElementById('exitBtn');
const countDisplay = document.getElementById('countDisplay');
const anthem = document.getElementById('anthem');
const speech = document.getElementById('speech');
const speaker = document.getElementById('speaker');
const speechText = document.getElementById('speechText');
const person1 = document.getElementById('person1');
const person2 = document.getElementById('person2');

let timeLeft = COUNTDOWN_SECONDS;
let timerID = null;
countDisplay.textContent = formatTime(timeLeft);

function formatTime(s){
  const mm = String(Math.floor(s/60)).padStart(2,'0');
  const ss = String(s%60).padStart(2,'0');
  return `${mm}:${ss}`;
}

startBtn.addEventListener('click', async () => {
  startBtn.disabled = true;
  try { anthem.currentTime = 0; await anthem.play(); } catch(e){}
  if (timerID) return;
  timerID = setInterval(() => {
    timeLeft--;
    countDisplay.textContent = formatTime(timeLeft);
    if (timeLeft % 12 === 0) burstFirework();
    if (timeLeft <= 0) { clearInterval(timerID); timerID = null; onCountdownEnd(); }
  }, 1000);
});

exitBtn.addEventListener('click', () => {
  if (timeLeft <= 0) document.querySelector('.wrapper').style.display = 'none';
});

function onCountdownEnd(){
  try{ anthem.pause(); anthem.currentTime = 0; } catch(e){}
  exitBtn.disabled = false;
  burstFirework(true);
  showSpeaker('Anas Mughal', 'Assalam-o-Alaikum! Happy Independence Day to everyone. Letâ€™s celebrate with unity and pride.', ANAS_SPEAK_SECONDS, true)
    .then(()=> showSpeaker('Mian Hassan', 'Pakistan Zindabad! May peace and progress be with our nation.', HASSAN_SPEAK_SECONDS, true))
    .then(()=> hideSpeech());
}

/* ---------- Text-to-Speech ---------- */
function speakText(text, callback){
  if ('speechSynthesis' in window) {
    const utterance = new SpeechSynthesisUtterance(text);
    utterance.lang = 'en-US';
    utterance.rate = 1;
    utterance.onend = () => { if (callback) callback(); };
    speechSynthesis.speak(utterance);
  } else {
    if (callback) callback();
  }
}

function showSpeaker(name, text, seconds, withVoice){
  if(withVoice){ speakText(text); }
  return new Promise(resolve => {
    speaker.textContent = name;
    speechText.textContent = text;
    speech.classList.add('show');
    person1.classList.toggle('active', name.includes('Anas'));
    person2.classList.toggle('active', name.includes('Hassan'));
    setTimeout(()=> {
      person1.classList.remove('active');
      person2.classList.remove('active');
      resolve();
    }, seconds*1000);
  });
}
function hideSpeech(){ speech.classList.remove('show'); }

burstBtn.addEventListener('click', ()=> burstFirework(true));

/* ---------- Fireworks ---------- */
const canvas = document.getElementById('fx');
const ctx = canvas.getContext('2d');
function resizeCanvas(){ canvas.width = canvas.offsetWidth; canvas.height = canvas.offsetHeight; }
window.addEventListener('resize', resizeCanvas); resizeCanvas();
let sparks = [], confetti = [];
function rnd(a,b){ return Math.random()*(b-a)+a; }

function burstFirework(large=false){
  const cx = rnd(canvas.width*0.2, canvas.width*0.8);
  const cy = rnd(50, canvas.height*0.5);
  const pieces = large ? 130 : 48;
  for(let i=0;i<pieces;i++){
    const angle = Math.random()*Math.PI*2;
    const speed = rnd(1.5,6);
    sparks.push({x:cx, y:cy, vx:Math.cos(angle)*speed, vy:Math.sin(angle)*speed, life:rnd(40,110), age:0, size:rnd(1,3), hue:Math.floor(rnd(60,160))});
  }
}

function loop(){
  ctx.clearRect(0,0,canvas.width,canvas.height);
  for(let i=sparks.length-1;i>=0;i--){
    const s = sparks[i];
    s.vy += 0.03; s.x += s.vx; s.y += s.vy; s.age++;
    ctx.globalAlpha = Math.max(0,1 - s.age/s.life);
    ctx.fillStyle = `hsl(${s.hue},80%,60%)`;
    ctx.beginPath(); ctx.arc(s.x,s.y,s.size,0,Math.PI*2); ctx.fill();
    ctx.globalAlpha = 1;
    if (s.age > s.life) sparks.splice(i,1);
  }
  requestAnimationFrame(loop);
}
loop();
</script>
</body>
</html>