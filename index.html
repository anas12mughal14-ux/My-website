<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>14 August Special â€” Sohni Dharti</title>
<style>
  body {
    margin: 0;
    background: black;
    color: white;
    font-family: Arial, sans-serif;
    overflow: hidden;
    text-align: center;
  }
  canvas {
    position: fixed;
    top: 0;
    left: 0;
  }
  #flag {
    position: absolute;
    top: 20px;
    left: 50%;
    transform: translateX(-50%);
    border: 2px solid white;
  }
  h1 {
    margin-top: 150px;
    font-size: 2em;
    color: #00ff99;
  }
  #countdown {
    font-size: 3em;
    color: yellow;
    margin-top: 10px;
  }
  #overlay {
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,0.9);
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    z-index: 9999;
  }
  #overlay button {
    padding: 12px 20px;
    font-size: 1.1em;
    background: #00ff99;
    color: black;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    margin-top: 20px;
  }
</style>
</head>
<body>

<canvas id="fireworks"></canvas>
<img id="flag" src="https://upload.wikimedia.org/wikipedia/commons/3/32/Flag_of_Pakistan.svg" width="200">

<div id="overlay">
  <h1>ðŸŽ† 14 August â€” Sohni Dharti Special ðŸŽ†</h1>
  <p>Designed by <strong>Anas Mughal</strong></p>
  <button id="startBtn">START SHOW</button>
</div>

<h1>ðŸ‡µðŸ‡° Happy Independence Day! ðŸ‡µðŸ‡°</h1>
<p>Designed by Anas Mughal</p>
<div id="countdown">60</div>

<audio id="bgMusic" src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3" loop></audio>

<script>
// Fireworks effect
const canvas = document.getElementById('fireworks');
const ctx = canvas.getContext('2d');
let particles = [];

function resizeCanvas() {
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
}
window.addEventListener('resize', resizeCanvas);
resizeCanvas();

function createParticle() {
  const x = Math.random() * canvas.width;
  const y = Math.random() * canvas.height / 2;
  const radius = Math.random() * 3 + 2;
  const color = `hsl(${Math.random() * 360}, 100%, 50%)`;
  const speedX = (Math.random() - 0.5) * 4;
  const speedY = (Math.random() - 0.5) * 4;
  particles.push({ x, y, radius, color, speedX, speedY, alpha: 1 });
}

function updateParticles() {
  ctx.clearRect(0, 0, canvas.width, canvas.height);
  particles.forEach((p, i) => {
    p.x += p.speedX;
    p.y += p.speedY;
    p.alpha -= 0.01;
    if (p.alpha <= 0) {
      particles.splice(i, 1);
    }
    ctx.globalAlpha = p.alpha;
    ctx.fillStyle = p.color;
    ctx.beginPath();
    ctx.arc(p.x, p.y, p.radius, 0, Math.PI * 2);
    ctx.fill();
  });
}

function animate() {
  requestAnimationFrame(animate);
  if (Math.random() < 0.1) {
    for (let i = 0; i < 50; i++) createParticle();
  }
  updateParticles();
}
animate();

// Countdown
let countdownInterval;
function startCountdown() {
  let timeLeft = 60;
  document.getElementById('countdown').textContent = timeLeft;
  countdownInterval = setInterval(() => {
    timeLeft--;
    document.getElementById('countdown').textContent = timeLeft;
    if (timeLeft <= 0) {
      clearInterval(countdownInterval);
      allowExit = true;
      alert("ðŸŽ‰ Happy Independence Day from Anas Mughal! ðŸŽ‰");
    }
  }, 1000);
}

// Prevent exit feeling
let allowExit = false;
window.onbeforeunload = function() {
  if (!allowExit) return "Please wait until the celebration is complete!";
};
document.addEventListener('contextmenu', e => {
  if (!allowExit) e.preventDefault();
});
history.pushState(null, null, location.href);
window.addEventListener('popstate', function() {
  if (!allowExit) history.pushState(null, null, location.href);
});

// Start button
document.getElementById('startBtn').addEventListener('click', () => {
  document.getElementById('overlay').style.display = 'none';
  const music = document.getElementById('bgMusic');
  music.play();
  startCountdown();
});
</script>

</body>
</html>